<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Nonsense Generator</title>
</head>
<body>

  <h1>Nonsense Generator</h1>

  <!-- FORM DI INPUT + BOTTONE -->
  <input type="text" id="sentence" placeholder="Inserisci una frase" />
  <button onclick="analyze()">Analizza</button>

  <!-- AREA DI OUTPUT -->
  <pre id="output"></pre>

  <!-- SCRIPT JS -->
  <script>
async function analyze() {
    const input = document.getElementById("sentence").value;
    const count = document.getElementById("count").value;
    const response = await fetch("http://localhost:8080/api/analyze", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({ sentence: input, count: count })
    });

    const data = await response.json();
    const outputEl = document.getElementById("output");
    if (data.sentences) {
        outputEl.innerHTML = data.sentences.map(s => `<p>${s}</p>`).join("");
    } else {
        outputEl.textContent = "Errore: " + data.error;
    }
}
</script>

<input type="text" id="sentence" placeholder="Inserisci una frase" />
<input type="number" id="count" placeholder="Quante frasi?" value="1" min="1" />
<button onclick="analyze()">Genera nonsense</button>
<div id="output"></div>
